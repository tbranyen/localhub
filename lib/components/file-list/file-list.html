{%if collection.length%}
{%if collection.models.0.get 'root'%}
<div class="menu-item">
  <div class="container">
    <div class="columns">
      <div class="column one-column">
        <span class="octicon octicon-file-directory"></span>
        <a 
          class="directory"
          data-path="{{ collection.models.0.attributes.root|up }}"
          href="#repository/{{ collection.repo.id }}/{{ collection.repo.get 'branch' }}/tree/{{ collection.models.0.attributes.root|up }}">../</a>
      </div>
    </div>
  </div>
</div>
{%endif%}
{%endif%}

{%each collection.toJSON as entry%}
<div class="menu-item">
  <div class="container">
    <div class="columns">
      <div class="column one-third">
        {%if entry.isDirectory%}
        <span class="octicon octicon-file-directory"></span>
        {%else%}
        <span class="octicon octicon-file-text"></span>
        {%endif%}

        <a 
          class="{%if entry.isDirectory%}directory{%else%}file{%endif%}" 
          data-path="{{ entry.absolute }}"

          {%if entry.isDirectory%}
          href="#repository/{{ collection.repo.id }}/{{ collection.repo.get 'branch' }}/tree/{{ entry.absolute }}">
          {%else%}
          href="#repository/{{ collection.repo.id }}/{{ collection.repo.get 'branch' }}/blob/{{ entry.absolute }}">
          {%endif%}
            {{ entry.path }}
        </a>
      </div>

      <div class="column two-thirds">
        <a href="#" class="message" title="{{ model.commit.oneline }}">{{ model.commit.oneline|slice 0 50 }}...</a>
        <span class="date">{{ model.commit.get 'date' }}</span>
      </div>
    </div>
  </div>
</div>
{%endeach%}
